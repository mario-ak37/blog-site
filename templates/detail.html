{% extends "base.html" %}
{% block title %}
  {{ post.title }}
{% endblock title %}
{% block content %}
  <div class="container py-4">
    <h1 class="mb-3 fw-bold">{{ post.title }}</h1>
    <p class="text-muted mb-4">Published {{ post.publish }} by {{ post.author }}</p>
    <div class="mb-4">{{ post.body|linebreaks }}</div>
    <a href="{% url 'blog:post_share' post.id %}"
       class="btn btn-outline-primary btn-sm mb-4">Share this post</a>
    {% with comments.count as total_comments %}
      <h3 class="h6 fw-semibold mb-3">{{ total_comments }} comment{{ total_comments|pluralize }}</h3>
    {% endwith %}
    {% for comment in comments %}
      <div class="bg-light border rounded-3 p-3 mb-3">
        <p class="text-muted small mb-1">{{ comment.name }} â€” {{ comment.created }}</p>
        <div>{{ comment.body|linebreaks }}</div>
      </div>
    {% empty %}
      <p class="text-muted">There are no comments yet.</p>
    {% endfor %}
    <div class="mt-4">{% include "comment_form.html" %}</div>
  </div>
{% endblock content %}
